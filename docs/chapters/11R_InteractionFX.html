<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Interaction Effects – Why Statistics?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/12R_LogisticRegression.html" rel="next">
<link href="../chapters/10R_MultipleRegression.html" rel="prev">
<link href=".././images/open_source_mouse.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-d69c144a735e15f5be1766bedc050848.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Why Statistics?</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../Rcode.html" aria-current="page"> 
<span class="menu-text">List of R Code</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://catterson.github.io"> 
<span class="menu-text">Prof.&nbsp;Cat Homepage</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/10R_MultipleRegression.html">People Are Complex</a></li><li class="breadcrumb-item"><a href="../chapters/11R_InteractionFX.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Interaction Effects</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src=".././images/open_source_mouse.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hello (An Introduction)!</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Describing People</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/1R_WhyStats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Why Statistics?</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/2R_Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Data Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/3R_Description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Description</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/4R_Scales.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Measures</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/5R_GoodScience.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">“Normal” Data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Predicting People</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/6R_LinearModels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">The Linear Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/7R_CategoricalIV.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Linear Model Pt 2: Categorical IVs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/8R_SamplingError.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Sampling Error and Bias</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/9R_ModelExtensions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">More Levels and Experiments</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">People Are Complex</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/10R_MultipleRegression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Multiple Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/11R_InteractionFX.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Interaction Effects</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/12R_LogisticRegression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Logistic Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/13R_Conclusion2Introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Conclusion 2 Introduction</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Rcode.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Rcode</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">In This Chapter</h2>
   
  <ul>
  <li><a href="#part-1-interaction-effects-it-depends-life-is-complex" id="toc-part-1-interaction-effects-it-depends-life-is-complex" class="nav-link active" data-scroll-target="#part-1-interaction-effects-it-depends-life-is-complex">Part 1 : Interaction Effects (“It Depends” / Life is Complex…)</a>
  <ul>
  <li><a href="#tldr-what-is-an-interaction-effect-and-why-should-i-care-professor" id="toc-tldr-what-is-an-interaction-effect-and-why-should-i-care-professor" class="nav-link" data-scroll-target="#tldr-what-is-an-interaction-effect-and-why-should-i-care-professor">TLDR : What is an Interaction Effect and Why Should I Care, Professor?</a></li>
  <li><a href="#recap-main-effects-the-independent-effect-of-one-iv-on-the-dv" id="toc-recap-main-effects-the-independent-effect-of-one-iv-on-the-dv" class="nav-link" data-scroll-target="#recap-main-effects-the-independent-effect-of-one-iv-on-the-dv">RECAP : Main Effects (the independent effect of one IV on the DV)</a>
  <ul class="collapse">
  <li><a href="#main-effects-in-bivariate-regression" id="toc-main-effects-in-bivariate-regression" class="nav-link" data-scroll-target="#main-effects-in-bivariate-regression"><strong>Main Effects in Bivariate Regression</strong></a></li>
  <li><a href="#main-effects-in-multiple-regression" id="toc-main-effects-in-multiple-regression" class="nav-link" data-scroll-target="#main-effects-in-multiple-regression">Main Effects in Multiple Regression</a></li>
  </ul></li>
  <li><a href="#interaction-effects-when-the-effect-of-one-variable-depends-on-another" id="toc-interaction-effects-when-the-effect-of-one-variable-depends-on-another" class="nav-link" data-scroll-target="#interaction-effects-when-the-effect-of-one-variable-depends-on-another">Interaction Effects : When the Effect of One Variable Depends on Another</a>
  <ul class="collapse">
  <li><a href="#the-interaction-effect-in-an-equation" id="toc-the-interaction-effect-in-an-equation" class="nav-link" data-scroll-target="#the-interaction-effect-in-an-equation"><strong>The Interaction Effect in an Equation</strong></a></li>
  <li><a href="#example-the-effect-of-wearing-a-helmet-on-safety-depends-on-whether-you-are-riding-a-bicycle-or-not" id="toc-example-the-effect-of-wearing-a-helmet-on-safety-depends-on-whether-you-are-riding-a-bicycle-or-not" class="nav-link" data-scroll-target="#example-the-effect-of-wearing-a-helmet-on-safety-depends-on-whether-you-are-riding-a-bicycle-or-not"><strong>Example : The Effect of Wearing a Helmet on Safety Depends on Whether You are Riding a Bicycle or Not</strong></a></li>
  <li><a href="#the-effect-of-using-implementation-intentions-on-task-completion-depends-on-the-type-of-goal" id="toc-the-effect-of-using-implementation-intentions-on-task-completion-depends-on-the-type-of-goal" class="nav-link" data-scroll-target="#the-effect-of-using-implementation-intentions-on-task-completion-depends-on-the-type-of-goal"><strong>The Effect of Using Implementation Intentions on Task Completion Depends on the Type of Goal</strong></a></li>
  <li><a href="#the-effect-of-resume-quality-on-callback-percentage-depends-on-the-applicants-perceived-race" id="toc-the-effect-of-resume-quality-on-callback-percentage-depends-on-the-applicants-perceived-race" class="nav-link" data-scroll-target="#the-effect-of-resume-quality-on-callback-percentage-depends-on-the-applicants-perceived-race">The Effect of Resume Quality on Callback Percentage Depends on the Applicant’s Perceived Race</a></li>
  <li><a href="#the-effect-of-time-on-hurt-feelings-depends-on-whether-you-take-a-pain-pill-or-not" id="toc-the-effect-of-time-on-hurt-feelings-depends-on-whether-you-take-a-pain-pill-or-not" class="nav-link" data-scroll-target="#the-effect-of-time-on-hurt-feelings-depends-on-whether-you-take-a-pain-pill-or-not">The Effect of Time on Hurt Feelings Depends on Whether You Take a Pain Pill or Not</a></li>
  <li><a href="#gosh-professor-i-just-love-these-examples-can-we-have-some-more" id="toc-gosh-professor-i-just-love-these-examples-can-we-have-some-more" class="nav-link" data-scroll-target="#gosh-professor-i-just-love-these-examples-can-we-have-some-more">Gosh Professor, I Just Love These Examples, Can We Have Some More?</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#part-2-how-to-calculate-interaction-effects-in-r" id="toc-part-2-how-to-calculate-interaction-effects-in-r" class="nav-link" data-scroll-target="#part-2-how-to-calculate-interaction-effects-in-r">Part 2 : How To Calculate Interaction Effects in R</a>
  <ul>
  <li><a href="#interaction-effects-vs.-main-effects" id="toc-interaction-effects-vs.-main-effects" class="nav-link" data-scroll-target="#interaction-effects-vs.-main-effects">Interaction Effects (vs.&nbsp;Main Effects)</a>
  <ul class="collapse">
  <li><a href="#main-effects" id="toc-main-effects" class="nav-link" data-scroll-target="#main-effects">Main Effects</a></li>
  <li><a href="#interaction-effects" id="toc-interaction-effects" class="nav-link" data-scroll-target="#interaction-effects">Interaction Effects</a></li>
  <li><a href="#the-model" id="toc-the-model" class="nav-link" data-scroll-target="#the-model">The Model</a></li>
  </ul></li>
  <li><a href="#another-example-using-data-in-r" id="toc-another-example-using-data-in-r" class="nav-link" data-scroll-target="#another-example-using-data-in-r">Another Example Using Data in R</a>
  <ul class="collapse">
  <li><a href="#the-model-one-continuous-dv-one-continuous-iv-and-one-categorical-iv" id="toc-the-model-one-continuous-dv-one-continuous-iv-and-one-categorical-iv" class="nav-link" data-scroll-target="#the-model-one-continuous-dv-one-continuous-iv-and-one-categorical-iv">The Model : <strong>One Continuous DV, One Continuous IV, and One Categorical IV</strong></a></li>
  <li><a href="#the-graphs." id="toc-the-graphs." class="nav-link" data-scroll-target="#the-graphs."><strong>The Graphs.</strong></a></li>
  <li><a href="#statistical-inference" id="toc-statistical-inference" class="nav-link" data-scroll-target="#statistical-inference">Statistical Inference</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/10R_MultipleRegression.html">People Are Complex</a></li><li class="breadcrumb-item"><a href="../chapters/11R_InteractionFX.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Interaction Effects</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Interaction Effects</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><strong>Goal :</strong> In this document, I’ll do my best to walk y’all through the theory and computation required to understand and interpret interaction effects in R.</p>
<section id="part-1-interaction-effects-it-depends-life-is-complex" class="level1 page-columns page-full">
<h1>Part 1 : Interaction Effects (“It Depends” / Life is Complex…)</h1>
<section id="tldr-what-is-an-interaction-effect-and-why-should-i-care-professor" class="level2">
<h2 class="anchored" data-anchor-id="tldr-what-is-an-interaction-effect-and-why-should-i-care-professor">TLDR : What is an Interaction Effect and Why Should I Care, Professor?</h2>
<p>Before I make things confusing, let me try to clearly explain what an interaction effect is, and why we care about it :)</p>
<p>Life is complex - one variable (a DV) can be explained by many other variables (IVs). And not only do each of these IVs uniquely influence the DV (multiple regression), but these IVs can influence each other, and the way that they each influence the DV (multiple regression with an interaction effect).&nbsp;</p>
<p>An interaction effect describes the idea that the effect of an IV on the DV might depend on some other IV. Below are a few conceptual examples :&nbsp;</p>
<ul>
<li><p>The effect of studying on grades depends on how much sleep you’ve gotten.</p>
<ul>
<li><p>For someone with a lot of sleep, studying is very effective.</p></li>
<li><p>For someone with a little sleep, studying is not very effective.</p></li>
</ul></li>
<li><p>The effect of an SSRI on well-being depends on whether the person is also engaged in cognitive behavioral therapy. For someone in talk-therapy, taking an anti-depressant is more effective than for someone who is not in talk-therapy.&nbsp;</p></li>
<li><p>The effect of seeing a bowl full of food on your hunger depends on whether the food is something you enjoy or not.</p></li>
</ul>
<p>Scientists looking to understand variables thus look to interaction effects in order to get a better understanding of the phenomenon. And sometimes, it’s only by looking at interaction effects that you can find patterns in the data. For example, for a while there was a mystery about why there was widespread bee colony death - turns out that <a href="https://www.nature.com/articles/s41598-021-01495-w">scientists needed to look for an interaction effect between variables (including climate change)</a> to find potential answers.</p>
<p>Post some examples in our discord thread if you want :) - great if you have an example of an interaction effect to test in your final project (but this is not required!)</p>
</section>
<section id="recap-main-effects-the-independent-effect-of-one-iv-on-the-dv" class="level2">
<h2 class="anchored" data-anchor-id="recap-main-effects-the-independent-effect-of-one-iv-on-the-dv">RECAP : Main Effects (the independent effect of one IV on the DV)</h2>
<section id="main-effects-in-bivariate-regression" class="level3">
<h3 class="anchored" data-anchor-id="main-effects-in-bivariate-regression"><strong>Main Effects in Bivariate Regression</strong></h3>
<p>So far in this class, we have worked with what are called simple “main effects” - the relationship between one variable and another. We first looked at this in a bivariate (two variable) model, with one DV and one IV.</p>
<p>For example, here’s some fake data where I’m looking at two linear models predicting safety - whether people are safer on bikes (or not) and whether people are safer with a helmet (or not).</p>
<p><img src="images/clipboard-571261680.png" class="img-fluid"></p>
<p>We see that there appears to be a difference - people in these fake data are more safe when on a bike (b = 5) than when not on a bike, and there appears to be no difference in terms of their safety when wearing a helmet or not.</p>
</section>
<section id="main-effects-in-multiple-regression" class="level3">
<h3 class="anchored" data-anchor-id="main-effects-in-multiple-regression">Main Effects in Multiple Regression</h3>
<p>In Chapter 10, we saw that one of the benefits of adding complexity to our linear models is that we could “<strong>examine the unique effects of variables”;</strong> that “we can test whether the effect of one variable (IV1) on another (DV) is unique to that variable, or whether that relationship is also explained by some other variable (IV2).” That is, I could test whether the relationship between bike riding and safety changes if you control for any effects of wearing a helmet (or test for whether the non-effect of wearing a helmet on safety might be changed if you account for any effects of riding a bike on safety.)</p>
<p>To do this, I’d enter both variables into my linear model, and look to see how the slopes changes from their respective bivariate models.</p>
<p><img src="images/clipboard-3685899783.png" class="img-fluid"></p>
<p>Looking at the fake data, I find the exact same slopes for each independent variable even when controlling for redundant covariation with a multiple regression - folks who ride a bike are more safe (b = 5) and there’s no effect of wearing a helmet on safety (b = 0). I’d say these are independent main effects - since I’m looking at each variable in isolation.</p>
</section>
</section>
<section id="interaction-effects-when-the-effect-of-one-variable-depends-on-another" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="interaction-effects-when-the-effect-of-one-variable-depends-on-another">Interaction Effects : When the Effect of One Variable Depends on Another</h2>
<section id="the-interaction-effect-in-an-equation" class="level3">
<h3 class="anchored" data-anchor-id="the-interaction-effect-in-an-equation"><strong>The Interaction Effect in an Equation</strong></h3>
<p>When testing for an interaction effect, we are looking to see whether the two variables work together to make different predictions of the dependent variable. Because we are looking at how one IV interacts with / depends on the effect of an other IV, we need to connect these variables in some way, and we do this by multiplying the two variables together in our linear model :&nbsp;</p>
<p><img src="images/clipboard-1470454822.png" class="img-fluid"></p>
<p>The interaction term is represented in b3 - this is an adjustment (a slope) that we will make to our other slopes. Below, we’ll look at this with our bike riding example.</p>
</section>
<section id="example-the-effect-of-wearing-a-helmet-on-safety-depends-on-whether-you-are-riding-a-bicycle-or-not" class="level3">
<h3 class="anchored" data-anchor-id="example-the-effect-of-wearing-a-helmet-on-safety-depends-on-whether-you-are-riding-a-bicycle-or-not"><strong>Example : The Effect of Wearing a Helmet on Safety Depends on Whether You are Riding a Bicycle or Not</strong></h3>
<p>I’d examine whether the effect of wearing a helmet might DEPEND on whether or not the person is on a bike. I’d expect that wearing a helmet would be more important for safety if the person is riding a bike than if the person is walking around.</p>
<p>To test this, I would again add both variables to my linear model in a multiple regression. In addition to adding the variables together, I would also add an <strong>interaction term</strong> - the product (multiplication) of the two variables :</p>
<p><img src="images/clipboard-2691029660.png" class="img-fluid"></p>
<p>I go over the terms from this model much more in Part 2 of this document. But the result is a linear model that would result in the graph below, which reveals an interaction effect : the effect of wearing a helmet on safety depends on whether you are reiding a bike or not.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/Z7HF2bGPpfU" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-1957735689.png" class="img-fluid figure-img"></p>
<figcaption>Let’s go over a few examples.</figcaption>
</figure>
</div>
</section>
<section id="the-effect-of-using-implementation-intentions-on-task-completion-depends-on-the-type-of-goal" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="the-effect-of-using-implementation-intentions-on-task-completion-depends-on-the-type-of-goal"><strong>The Effect of Using Implementation Intentions on Task Completion Depends on the Type of Goal</strong></h3>
<p>What is an implementation intention? I’m glad you asked!</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/QpdA8Ex9kZ4" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>How to interpret the interaction effect of an implementation intentions? In six minutes.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;note : somewhat tragic story, shortly after I started working on this implementation intention, I got an e-mail from someone advertising a paper that was a more clearly written version of the paper that I wrote that got rejected. Would have been more heartbreaking had it a) not been almost a decade since I got rejected (to be honest it was almost a relief to be free of that burden of a project that I had long stopped caring about) and b) the newer paper was really good. can’t find it right now but if anyone is reading this let me know and I’ll try to find a copy of the paper!</p></div></div><div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/6WWYGsp1IwA" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p><img src="images/clipboard-1741193459.png" class="img-fluid"></p>
</section>
<section id="the-effect-of-resume-quality-on-callback-percentage-depends-on-the-applicants-perceived-race" class="level3">
<h3 class="anchored" data-anchor-id="the-effect-of-resume-quality-on-callback-percentage-depends-on-the-applicants-perceived-race">The Effect of Resume Quality on Callback Percentage Depends on the Applicant’s Perceived Race</h3>
<p>In the video below, I walk through data from Bertrand &amp; Mullainathan’s (2004) excellent paper demonstrating white privilege with real data.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/nqounP_I35k" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p><img src="images/clipboard-2833945437.png" class="img-fluid"></p>
</section>
<section id="the-effect-of-time-on-hurt-feelings-depends-on-whether-you-take-a-pain-pill-or-not" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="the-effect-of-time-on-hurt-feelings-depends-on-whether-you-take-a-pain-pill-or-not">The Effect of Time on Hurt Feelings Depends on Whether You Take a Pain Pill or Not</h3>
<p>Still in the mood for another example? Don’t worry about hurting my feelings I’m loaded up on TYLENOL.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;Data from : DeWall, C. N., MacDonald, G., Webster, G. D., Masten, C. L., Baumeister, R. F., Powell, C., … &amp; Eisenberger, N. I. (2010). Acetaminophen reduces social pain: Behavioral and neural evidence. Psychological science, 21(7), 931-937. [<a href="https://journals.sagepub.com/doi/pdf/10.1177/0956797610374741?casa_token=CfSYNCtQg4wAAAAA:yNE2IwEr2B-Ozdb7VCvjS_VCeqZDetIme6KFw3zjgTvEGuM5ODVw4COhJ0sAdv_Zl2E7oEIYHdew"><strong>Link</strong></a> and here’s a <a href="https://neurocritic.blogspot.com/2010/06/suffering-from-pain-of-social-rejection.html"><strong>good critique of the research</strong></a>]</p>
<p><br>
</p></div></div><p><img src="images/clipboard-1469369044.png" class="img-fluid"></p>
</section>
<section id="gosh-professor-i-just-love-these-examples-can-we-have-some-more" class="level3">
<h3 class="anchored" data-anchor-id="gosh-professor-i-just-love-these-examples-can-we-have-some-more">Gosh Professor, I Just Love These Examples, Can We Have Some More?</h3>
<p>No, student. I am all done providing examples. But you can generate your own examples.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/On8o9KbeuLQ" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p><img src="images/clipboard-2241928953.png" class="img-fluid"></p>
</section>
</section>
</section>
<section id="part-2-how-to-calculate-interaction-effects-in-r" class="level1">
<h1>Part 2 : How To Calculate Interaction Effects in R</h1>
<section id="interaction-effects-vs.-main-effects" class="level2">
<h2 class="anchored" data-anchor-id="interaction-effects-vs.-main-effects">Interaction Effects (vs.&nbsp;Main Effects)</h2>
<section id="main-effects" class="level3">
<h3 class="anchored" data-anchor-id="main-effects">Main Effects</h3>
<p>So far in this class, we have focused on the slopes in regression models, since these terms describe the relationship between two variables (DV ~ IV1); researchers use this relationship to make their predictions about the DV (e.g., if there is a relationship between presence of rain clouds and rain, then I will predict it will rain when I see a rain cloud outside). Another word for the slope is an “effect”, and the type of effect we have been working with so far in this semester is often called a main effect.</p>
</section>
<section id="interaction-effects" class="level3">
<h3 class="anchored" data-anchor-id="interaction-effects">Interaction Effects</h3>
<p>An interaction effect allows you to test whether the relationship between one independent variable and the dependent variable *depends on* another independent variable. (In other words, whether the main effect is moderated, or changed, by some other variable). Interaction effects are a special form of multiple regression, where you have two (or more) independent variables in your model. Whereas before we added a second (or third) variable to our model, an interaction effect examines the result of the product (or multiplication) of two independent variables.&nbsp;</p>
</section>
<section id="the-model" class="level3">
<h3 class="anchored" data-anchor-id="the-model">The Model</h3>
<p>The model for an interaction effect should look familiar!</p>
<p><img src="images/clipboard-1470454822.png" class="img-fluid"></p>
<ul>
<li><p>yi = the individual’s actual score that we are trying to predict (the DV). Remember that the i symbol represents an individual; each individual has a specific value for the DV.</p></li>
<li><p>a = the intercept (a constant value that is always part of your model), and is the starting place for our predictions. (“The predicted value of y when all X values are zero!”, they said.)</p></li>
<li><p>X1 = the individual’s specific value for the first independent variable (X1).</p></li>
<li><p>b1 = the slope for X1 = the adjustment we make in our prediction of y, based on the individual’s value of X1.</p></li>
<li><p>X2 = the individual’s specific value for the second independent varible (X2)</p></li>
<li><p>b2 = the slope for X2 = the adjustment we make in our prediction of y, based on the individual’s value of X2.</p></li>
<li><p><strong>b3 = the slope for our interaction term = the change that we make in our predictions of y based on the values of BOTH X1 and X2</strong></p></li>
<li><p>ei = the individual’s specific error (residuals) = the distance between the predicted values of y and the individual’s actual score for y.<br>
</p></li>
</ul>
<p>Consider the graph from our bike riding example.</p>
<p><img src="images/clipboard-1957735689.png" class="img-fluid" alt="Let's go over a few examples."></p>
<p>We can use the output of a model to get the same estimated effects of safety for each group.</p>
<p><img src="images/clipboard-2459793371.png" class="img-fluid"></p>
<p><strong>We can plug these estimates into our model :</strong></p>
<p>Y ~ 10 - 5(bikeY) - 10(helmetY) + 20(bikeY * helmetY)</p>
<ul>
<li>bikeYes and helmetYes are both dummy coded variables that take the values 0 (NOT on a bike and NOT wearing a helmet) and 1 (on a bike and on a helmet).</li>
</ul>
<p>Try the calculations on your own. Plug these values into the equation in order to get the four combinations of bike and helmet.&nbsp;</p>
<p><strong>Example : wearing a helmet (helmetY = 1) and not on a bike (bikeY = 0).</strong></p>
<p>Y ~ 10 - 5(bikeY) - 10(helmetY) + 20(bikeY * helmetY)</p>
<p>Y ~ 10 - 5(0) - 10(1) + 20(0*1)</p>
<p>Y ~ 10 - 0 - 10 + 0&nbsp;</p>
<p>Y ~ 0</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example Model
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<table class="caption-top table">
<tbody>
<tr class="odd">
<td></td>
<td><strong>Helmet - Yes</strong></td>
<td><strong>Helmet - No</strong></td>
</tr>
<tr class="even">
<td><strong>Bike - Yes</strong></td>
<td><strong>15</strong></td>
<td><strong>5</strong></td>
</tr>
<tr class="odd">
<td><strong>Bike - No</strong></td>
<td><strong>0</strong></td>
<td><strong>10</strong></td>
</tr>
</tbody>
</table>
<p>These values should yield the same values you get from the graph - the model just defines changes to predictions of Y depending on information in X1 and X2.</p>
<p>Note : the principle of sampling error still applies to these estimates - you could find the estimate (slope) in your model because there is some real interaction effect (the alternative hypothesis), or because of chance (the null hypothesis). You can use bootstrapping to estimate the variation due to sampling error, and use that distribution to estimate the likelihood of finding a non-zero estimate.</p>
</div>
</div>
</div>
</section>
</section>
<section id="another-example-using-data-in-r" class="level2">
<h2 class="anchored" data-anchor-id="another-example-using-data-in-r">Another Example Using Data in R</h2>
<p>Interaction effects are notoriously tricky, so below I will walk you through a few examples of how to model, interpret, and graph interaction effects. For this problem, I’m using the Prestige dataset, from the ‘car’ library.&nbsp; I’m skipping over the bivariate regression models (DV ~ IV1 , DV ~ IV2) and the multiple regression model (DV ~ IV1 + IV2) since we’ve worked with these before. However, you MUST do all these steps first before you do an interaction effect in order to be able to fully interpret the model!</p>
<section id="the-model-one-continuous-dv-one-continuous-iv-and-one-categorical-iv" class="level3">
<h3 class="anchored" data-anchor-id="the-model-one-continuous-dv-one-continuous-iv-and-one-categorical-iv">The Model : <strong>One Continuous DV, One Continuous IV, and One Categorical IV</strong></h3>
<p>First,&nbsp; we define our model, and examine the coefficients of this model. I’ve z-scored all my terms, so everything is in units of standard deviation.<br>
<img src="images/clipboard-2056635712.png" class="img-fluid"></p>
<p><strong>I walk you through this model below :</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 39%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Term</strong></td>
<td><strong>Name</strong></td>
<td><strong>Value</strong></td>
<td><strong>Interpretation</strong></td>
</tr>
<tr class="even">
<td>1</td>
<td>Intercept</td>
<td>0.00</td>
<td>This is the starting place for our line - the predicted value of prestige when all X values are zero. Since my variables are z-scored, zero means “average”, so again we see that someone with average education and is NOT a white collar or professional worker (a blue collar worker) has an average level of prestige.</td>
</tr>
<tr class="odd">
<td>2</td>
<td>z.education</td>
<td>.76</td>
<td>This is the relationship between education and prestige for blue collar workers - in other words, for people who are NOT white collar or professional workers (blue collar workers).</td>
</tr>
<tr class="even">
<td>3</td>
<td>typeprof</td>
<td>.24</td>
<td>This is the adjustment we make to our prediction of prestige for someone who IS a professional worker (compared to blue collar workers). In other words, a professional worker has .24 standard deviations more prestige than a blue collar worker, assuming both have similar levels of education.</td>
</tr>
<tr class="odd">
<td>4</td>
<td>typewc</td>
<td>-.19</td>
<td>This is the adjustment we make to our prediction of prestige for someone who IS a white collar worker (compared to blue collar workers), controlling for years of education. In other words, a white collar worker is predicted to have .19 standard deviations less&nbsp; prestige than a blue collar worker, assuming both have similar levels of education.&nbsp;</td>
</tr>
<tr class="even">
<td>5</td>
<td>z.education:typeprof</td>
<td>-.16</td>
<td>This is the adjustment we make to the slope for education if someone comes from a professional job. In other words, the relationship between education and prestige among professional workers is .16 standard deviations less than among blue collar workers. So the relationship between education and prestige among professional workers would be moderated (changed) : b = .76 - .16 =&nbsp; .50. This difference in the slope is the interaction effect - the relationship between education and prestige depends on the type of job a person has.</td>
</tr>
<tr class="odd">
<td>6</td>
<td>z.education:typewc</td>
<td>1.02</td>
<td>Again, this is the adjustment we make to the slope for education if someone comes from a white collar job. In other words, the relationship between education and prestige among white collar workers is STRONGER (by .26 standard deviations)&nbsp; THAN the relationship between education and blue collar workers. This means the relationship between education and prestige among professional workers is moderated (changed) : b = .76 + .26 =&nbsp; 1.02. This difference in the slope is another example of the interaction effect - the relationship between education and prestige depends on the type of job a person has.</td>
</tr>
</tbody>
</table>
<p>TLDR : the interaction effects are terms 5 and 6, which describe how the relationship between education and prestige for blue collar workers is changed (moderated) for individuals who come from professional jobs (change in slope of education = -.16) and white collar jobs (change in slope of education = .26).</p>
</section>
<section id="the-graphs." class="level3">
<h3 class="anchored" data-anchor-id="the-graphs."><strong>The Graphs.</strong></h3>
<p>Interaction effects might make more sense if you graph them. Below, I’ve saved my model coefficients as an object cf, and refer to each coefficient by number. So cf[1] = the intercept; cf[5] = z.education:typeprof, etc.</p>
<p><br>
<img src="images/clipboard-1738559469.png" class="img-fluid"></p>
<p>Here’s the final graph, reprinted.</p>
<p><img src="images/clipboard-1846620881.png" class="img-fluid"></p>
<p>If you look at the graph, you’ll notice that the black line seems to best describe the relationship for the black dots (blue collar workers), the red line seems to describe the relationship for the red dots (professional workers), and the green line best for the green dots (white collar workers. And there are small differences in where the lines start (the main effects of job type) and their slope (the interaction effects of how job type changes the relationship between education and prestige).</p>
<p>To best interpret the main effects, you need to run the multivariate model with NO interaction effect term, as described in the previous lecture.</p>
</section>
<section id="statistical-inference" class="level3">
<h3 class="anchored" data-anchor-id="statistical-inference">Statistical Inference</h3>
<p>To recap, the model just describes the relationships between our variables for the sample, and researchers are typically interested in using what we’ve learned about the sample to make a prediction about the broader population. We know that our sample will not represent the population (sampling error), but are instead estimates that might vary due to chance. So we have to conduct some inferential statistics to estimate the amount of sampling error in our model.</p>
<p>So, like for bivariate models, we will have to estimate sampling error (using bootstrapping or the summary() function to calculate standard error) to guess at the chance that the interaction effects that change the relationship between education and prestige was found due to chance.</p>
<p>One important thing about interaction effects - because an interaction effect involves both two independent variables working together to make predictions of the DV, you need to make sure that both independent variables are on the same scale, or your standard error estimates will be off. To do this, make sure to z-score your variables, or use the standardize() function [part of the ‘arm’ package] on your model (as I’ve already done - just reminding y’all.</p>
<p>Here’s the output of my summary of a z-scored model. Let’s focus on just one interaction effect : the change in the relationship between education and prestige for professional workers (vs.&nbsp;blue collar workers).</p>
<p><img src="images/clipboard-3258589132.png" class="img-fluid"></p>
<p>Our estimate is that positive relationship between education and prestige for blue collar workers (β = .76) is adjusted for professional workers (the adjustment is β = -.16, so the slope for people who do are professional workers would be β = .76 - .16 = β = .60). The standard error for the interaction effect (.23) suggests that IF the null hypothesis were “true”, the average variation in interaction effects we might find due to chance would be .23. The t-value (-.68) suggests that the interaction effect we found is only ⅔ of the average interaction effect we would expect to find on average due to sampling error if the null hypothesis were true. The p-value (p = .5) suggests that the probability of finding this interaction effect if the null hypothesis is true is about 50%, which is very likely, and suggests that it’s most likely we would have found this interaction effect due to chance.</p>
<p>Of course, we could be wrong in our determination that this is a non-significant finding - there is a 50% chance that we would not observe this slope (or one larger) due to chance if the null hypothesis were true. But this, along with the fickle nature of interaction effects, I think this interaction effect, and the one for white collar jobs, is likely bogus. And in any case, if I really cared about this effect and wanted to write about this in a paper, I would replicate this effect in other datasets (starting with Berkeley students and then generalizing to other samples) no matter the significance level.</p>
<p>Cool. I think that’s all for now.</p>


</section>
</section>
</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../chapters/10R_MultipleRegression.html" class="pagination-link" aria-label="Multiple Regression">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Multiple Regression</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/12R_LogisticRegression.html" class="pagination-link" aria-label="Logistic Regression">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Logistic Regression</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>